## Virtual DOM?

버추얼 돔은 HTML DOM의 추상화 개념이다. 브라우저 스펙의 구현체와는 분리되어있다.  
(사실, 돔은 이미 추상화 개념이기 때문에 버추얼 돔은 추상화를 또 추상화한 개념이다)

실제 HTML DOM의 간소화된 복사본이라고 생각하면 된다. 버추얼 돔을 사용하여 실제 DOM에 접근해 조작하지 않고 추상화한 자바스크립트 객체를 구성해 사용한다.



## Virtual DOM을 사용하는 이유

### DOM이 가진 이슈

HTML 자체적으로는 정적이기 때문에 동적 UI에 최적화가 되어있지 않다.

#### 리페인트 과정이 느리게 만든다

DOM 자체를 읽고 쓸 때의 성능은 자바스크립트 객체를 처리할 때의 성능과 비교하여 큰 차이없이 빠르다. 하지만 DOM을 조작할 때마다 새로 그리기 때문에 업데이트가 너무 잦으면 성능이 저하 된다.

DOM에 변화가 일어나면 웹 브라우저가 CSS를 다시 연산하고, 레이아웃을 구성하고 페이지를 리페인트하는 과정에서 시간이 허비 된다. 이는 DOM을 최소한으로 조작하여 작업을 처리하는 방식으로 개선이 가능하다.



### 업데이트 처리 간결성

리액트와 Virtual DOM은 UI를 업데이트하는 과정에서 생기는 복잡함을 해소하고, 쉽게 업데이트에 접근할 수 있게 해준다. 

컴포넌트가 어떻게 구성되어야 할지 정의 해주면, HTML DOM API를 호출하는 등 단순한 작업은 리액트가 대신 처리한다.

한마디로 쉽게 핸들링이 가능하다!





## 리액트의 Virtual DOM

실제 DOM에 접근하여 조작하지 않고 추상화한 자바스크립트 객체를 구성해 사용한다.

리액트는 Virtual DOM 방식을 사용하여 **DOM 업데이트를 추상화함으로써 DOM 처리 횟수를 최소화하고 효율적으로 진행**한다.

> **리액트가 웹 브라우저에 실제 DOM을 업데이트하는 과정**
>
> 1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 리렌더링
> 2. 이전 Virtual DOM에 있던 내용과 현재 내용을 비교
> 3. 바뀐 부분만 실제 DOM에 적용



### 무조건 빠른 것은 아니다

Virtual DOM을 사용한다고 해서 무조건 빠른 것은 아니다.

리액트를 사용하지 않아도 코드 최적화 작업을 하면 DOM 작업이 느려지는 것을 개선 가능하다.

단순 라우팅 정도만하는 정적인 페이지 같이, 작업이 매우 간단하면 오히려 리액트를 사용하지 않는 편이 더 나은 성능을 보이기도 한다.





