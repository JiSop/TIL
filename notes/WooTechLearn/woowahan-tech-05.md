---
title: ìš°ì•„í•œí…Œí¬ëŸ¬ë‹ React&TypeScript 05
emoji: ğŸ‘¨â€ğŸ’»
tags:
  - ìš°ì•„í•œí…Œí¬ëŸ¬ë‹
  - React
  - TypeScript
---


[CodeSandbox](https://codesandbox.io/s/woowa-d5-tun5g?file=/src/index.js)



## ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´

ë¦¬ë“€ì„œëŠ” ìˆœìˆ˜ í•¨ìˆ˜ì—¬ì•¼ë§Œ í•œë‹¤.

ì™¸ë¶€ì™€ ì•„ë¬´ëŸ° ë””íœë˜ì‹œ ì—†ì´, ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ì´ë“œ ì´íŒ©íŠ¸ ì—†ì´

> ì¸í’‹ì´ ë˜‘ê°™ìœ¼ë©´ ì•„ì›ƒí’‹ë„ ë˜‘ê°™ì•„ì•¼ í•œë‹¤.



ê·¸ë ‡ë‹¤ë©´ ìˆœìˆ˜í•˜ì§€ ì•Šì€ ê²ƒì€?

ë¹„ë™ê¸° ì‘ì—…, API í˜¸ì¶œ

> ê²°ê³¼ ì˜ˆì¸¡ì´ ì•ˆëœë‹¤.



ìˆœìˆ˜í•˜ì§€ ì•Šì€ ìƒí™©ì„ ì–´ë–»ê²Œ ë‹¤ë¥¼ ê²ƒì¸ê°€

ë¦¬ë“€ì„œì˜ êµ¬ì¡°ë¡œëŠ” ìŠ¤í…Œì´íŠ¸ì˜ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

> ë¦¬ë“€ì„œëŠ” ë™ê¸° í•¨ìˆ˜ì´ê¸° ë•Œë¬¸



ë¦¬ë•ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë™ê¸°ì ì¸ ìƒíƒœë§Œ ê´€ë¦¬í•œë‹¤.

ë¹„ë™ê¸°ì  ì²˜ë¦¬ëŠ” ë¦¬ë“€ì„œ ë°–ì—ì„œ í•´ì•¼í•œë‹¤.



> ë¯¸ë“¤ì›¨ì–´ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ë§Œë“¤ ìƒí™©ì€ ì‚¬ì‹¤ ê±°ì˜ ì—†ì§€ë§Œ,
>
> ì§€ì—°í˜¸ì¶œì— ëŒ€í•œ ê°œë…ì„ ìµíˆê¸° ìœ„í•´ ë¯¸ë“¤ì›¨ì–´ í•™ìŠµ
>
> ë¦¬ë•ìŠ¤ ê³µì‹ ë¬¸ì„œì— ìŠ¤í… ë°”ì´ ìŠ¤í…ìœ¼ë¡œ ìƒì„¸í•˜ê²Œ ì í˜€ìˆë‹¤.



```js
// 1.
const myMiddleware = store => dispatch => action => {
  dispatch(action);
};
```

```js
// 2.
/*
	í´ë¡œì € ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤
	í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ ì»¤ë§ì´ë¼ê³  í•œë‹¤.
*/
function yourMiddleware(store) {
  return function (dispatch) {
    return function (action) {
      dispatch(action);
    };
  };
}
```

```js
// 3.
function ourMiddleware(store, dispatch, action) {
  dispatch(action);
}
```

ê°™ì€ ì  ëª¨ë‘ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ê°€ ê°™ë‹¤

1ê³¼ 2ëŠ” ë¬¸ë²•ì  ì°¨ì´

ë‹¤ë¥¸ ì  ì¤‘ì²©ì´ ë‹¤ë¥´ë‹¤(ìŠ¤ì½”í”„ê°€ ë‹¤ë¥´ë‹¤)



> ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” ê±´ ë¹„ìš©ì´ í¬ë‹¤
>
> ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ê°€ëŠ¥í•œ ìˆ˜ì •í•˜ëŠ” ì•ŠëŠ” ë°©ì‹ì„ ì‚¬ìš©
>
> **ëª½í‚¤íŒ¨ì¹­**



```js
let next = store.dispatch; // ì›ë³¸ ë””ìŠ¤íŒ¨ì¹˜
store.dispatch = function dispatchAndLog(action) { // ë³€ê²½í•œ ë””ìŠ¤íŒ¨ì¹˜
  console.log('dispatching', action);
  let result = next(action); // í´ë¡œì €ë¡œ ë°›ì•„ ì˜´
  console.log('next state', store.getState());
  return result;
};
```



í”ŒëŸ¬ê·¸ì¸ì€ í•„ìš”í•œ ê²½ìš° ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤.



ë¯¸ë“¤ì›¨ì–´ëŠ” ëª¨ë“  ë°ì´í„° íë¦„ì„ ì¤‘ê°„ì—ì„œ ë°›ëŠ”ë‹¤.

ì •í•´ì§„ í•­ìƒ ìˆœì„œëŒ€ë¡œ íë¦„ì„ ë°›ëŠ”ë‹¤.

ìˆœì„œì— ë””íœë˜ì‹œê°€ ì¡´ì¬í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ë„ ìˆë‹¤.



```js
/* 
  add1ì€ ì‚¬ìš©ìê°€ ì¤‘ê°„ì— ê°œì… í•  ì—¬ì§€ê°€ ì—†ë‹¤
*/
const add1 = function (a, b) {
  return a + b;
};

/* 
  add2ëŠ” ì‚¬ìš©ìê°€ ì¤‘ê°„ì— ê°œì… í•  ì—¬ì§€ê°€ ìˆë‹¤
  ëª½í‚¤íŒ¨ì¹­ì„ í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì´ë‹¤!
*/
const add2 = function (a) {
  return function (b) {
    return a + b;
  };
};

add1(10, 20); // 30
add2(10)(20); // 30

const addTen = add2(10);

// í•¨ìˆ˜ í•©ì„±

addTen(30);

console.log(addTen(30));
console.log(addTen(40));

// ì»¤ë§ì´ë€ ê²°êµ­ ì‚¬ìš©ìê°€ ê°œì… í•  ìˆ˜ ìˆëŠ” ì—¬ì§€ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” í…Œí¬ë‹‰

// ì»¤ë§ìœ¼ë¡œ ë§Œë“¤ë©´ ë¯¸ë“¤ì›¨ì–´ê°€ ê°œì…í•  ìˆ˜ ìˆëŠ” ì—¬ì§€ë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤
// ë¦¬ë•ìŠ¤ê°€ ê°œì… í•  ìˆ˜ ìˆëŠ” ì—¬ì§€

```



> ê°ê° ì„¸ ê°€ì§€ë¡œ ì»¤ë§ ëœ í•¨ìˆ˜ì´ë‹¤.
>
> [] ë¯¸ë“¤ì›¨ì–´ë¥¼ ê°€ì§„ ë°°ì—´ì„ ë°˜ì „í•˜ëŠ” ì´ìœ  ë³µìŠµ

```js
// ë¯¸ë“¤ì›¨ì–´ì˜ ê¸°ë³¸ì ì¸ í˜•íƒœ
const myMiddleware = store => next => action => {
  /* ... */
  next(action);
};
```



ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ í”Œë¡œìš°ë¥¼ ì œì–´í•  ìˆ˜ë„ ìˆë‹¤.


## note

[] ë‹¤ì‹œ ê¹”ë”í•˜ê²Œ ì •ë¦¬ í•„ìš”í•¨ ğŸ˜…


## reference

https://dobbit.github.io/redux/advanced/Middleware.html

