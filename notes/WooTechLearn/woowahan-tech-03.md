---
title: ìš°ì•„í•œí…Œí¬ëŸ¬ë‹ React&TypeScript 03
emoji: ğŸ‘¨â€ğŸ’»
tags:
  - ìš°ì•„í•œí…Œí¬ëŸ¬ë‹
  - React
  - TypeScript
---



## ê°„ë‹¨í•œ ë¦¬ì•¡íŠ¸ êµ¬í˜„



### ë²„ì¶”ì–¼ ë” êµ¬ì¡°

```js
const vdom = {
  type: `ul`,
  props: {},
  children: [
    { type: `li`, props: { className: "item" }, children: "React" },
    { type: `li`, props: { className: "item" }, children: "Redux" },
    { type: `li`, props: { className: "item" }, children: "TypeScript" }
  ]
};
```



### createElements

ë²„ì¶”ì–¼ ë”ì„ ë§Œë“œëŠ” ì¹œêµ¬

DOMìœ¼ë¡œ ì»¨ë²„íŒ…í•œë‹¤.

```js
function createElements(type, props = {}, ...children) {
  return { type, props, children };
}
```

ë°”ë²¨ ì˜µì…˜ ì£¼ì„

```js
/* @jsx createElement */
```

> ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ì™œ ëŒ€ë¬¸ìë¡œ ì‹œì‘í•´ì•¼í•˜ëŠ”ê°€
>
> > ë°”ë²¨ì´ í•´ì„í•˜ëŠ” ë°©ì‹ ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ëŠ” ëŒ€ë¬¸ìë¡œ ì‹œì‘í•´ì•¼í•œë‹¤.
> >
> > ëŒ€ë¬¸ìë¡œ ì‹œì‘í•˜ë©´ í•¨ìˆ˜

```js
function createElement(type, props = {}, ...children) {
  if (typeof type === "function") {
    return type.apply(null, [props, ...children]);
  }
  return { type, props, children };
}
```



### render

ë²„ì¶”ì–¼ ë”ì„ ë”ìœ¼ë¡œ ì»¨ë²„íŒ…

```js
function render(vdom, container) {
  container.appendChild(renderElement(vdom));
}
```



### renderElement

ì¬ê·€ í•¨ìˆ˜ì´ë‹¤

ëª¨ë“  ìš”ì†Œë¥¼ íŒŒì•…í•´ì•¼ í•¨ìœ¼ë¡œ 

```js
function renderElement(node) {
  // ë°©ì–´ ì½”ë“œ
  // ê°€ì¥ í•˜ìœ„ ìš”ì†ŒëŠ” ë¬¸ìì—´ì´ ëœë‹¤.
  if (typeof node === "string") {
    return document.createTextNode(node);
  }

  const el = document.createElement(node.type);

  // ìì‹ ìš”ì†Œ ë Œë”ë§
  node.children.map(renderElement).forEach((element) => {
    el.appendChild(element);
  });

  return el;
}
```



### ì „ì²´ ì½”ë“œ

```js
/* @jsx createElement */

function renderElement(node) {
  // ë°©ì–´ ì½”ë“œ
  // ê°€ì¥ í•˜ìœ„ ìš”ì†ŒëŠ” ë¬¸ìì—´ì´ ëœë‹¤.
  if (typeof node === "string") {
    return document.createTextNode(node);
  }

  const el = document.createElement(node.type);

  // ìì‹ ìš”ì†Œ ë Œë”ë§
  node.children.map(renderElement).forEach((element) => {
    el.appendChild(element);
  });

  return el;
}

function render(vdom, container) {
  // ì—¬ê¸°ì— ê¸°ì¡´ ë²„ì¶”ì–¼ ë”ê³¼ ë¹„êµí•˜ëŠ” ë¡œì§ì´ ë“¤ì–´ì˜¨ë‹¤
  container.appendChild(renderElement(vdom));
}

// ë°”ë²¨ë¦¬ íŠ¸ë ŒìŠ¤ íŒŒì¼ë§ í• ë•Œ jsx í˜•íƒœë¡œ ë°”ë€œ
// ì»´íŒŒì¼ íƒ€ì„ì— ì¼ì–´ë‚¨
function createElement(type, props = {}, ...children) {
  if (typeof type === "function") {
    return type.apply(null, [props, ...children]);
  }
  return { type, props, children };
}

function Row(props) {
  return <li>{props.label}</li>;
}

function List(props) {
  return (
    <ul>
      <Row label="í•«ì± " />
      <li>React</li>
      <li>Redux</li>
      <li>TypeScript</li>
    </ul>
  );
}

function App() {
  return (
    <div>
      <h1>Hello</h1>
      <List />
    </div>
  );
}

render(<App />, document.getElementById("root"));
console.log(<App />);

```



## ë¦¬ì•¡íŠ¸ ìƒíƒœê´€ë¦¬



### í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸

- ë¼ì´í”„ì‚¬ì´í´ ë©”ì†Œë“œ ì§€ì›
- í´ë˜ìŠ¤ëŠ” ìƒíƒœë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
  - ìƒì„±ìì—ì„œ ì´ˆê¸°í™”ë¥¼ í†µí•´ ìƒíƒœ ìœ ì§€ ê°€ëŠ¥
- setState ë©”ì†Œë“œë¥¼ í†µí•´ ìƒíƒœ(ê°’)ë¥¼ ë³€ê²½í•˜ì—¬ ë³€í™”ë¥¼ ê°ì§€
  - setState ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë¦¬ì•¡íŠ¸ëŠ” ë³€í™”ë¥¼ ê°ì§€í•˜ì§€ ëª»í•œë‹¤. 





### í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

- í•¨ìˆ˜ëŠ” í˜¸ì¶œë  ë•Œ ë§ˆë‹¤ ì´ˆê¸°í™”ê°€ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì— ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.  
  ë§ˆì°¬ê°€ì§€ë¡œ ë¼ì´í”„ì‚¬ì´í´ ë˜í•œ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
- í•˜ì§€ë§Œ hooks APIë¥¼ ì¶”ê°€í•˜ë©´ì„œ ìƒíƒœ ìœ ì§€, ë¼ì´í”„ì‚¬ì´í´ê³¼ ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.

#### useState

ê¸°ë³¸ì ìœ¼ë¡œ ë°°ì—´ì„ ë¦¬í„´

```
[1, function bound dispatchAction()]
 0: 1
 1: function bound dispatchAction() {}
  <constructor>: "Function"
```

í›… ì „ì—­ ë°°ì—´ì— ìƒíƒœë¥¼ ì €ì¥

ë‘ ë²ˆì§¸ í˜¸ì¶œ ì´ìƒ ì¼ë•ŒëŠ” ì´ˆê¸° ê°’ì„ ë¬´ì‹œ

ì»´í¬ë„ŒíŠ¸ë¥¼ í‚¤ë¡œí•´ì„œ ìƒì„±ëœ ìˆœì„œëŒ€ë¡œ ì¸ë±ì‹±

> **í›…ì´ ìµœìƒìœ„ì—ì„œ í˜¸ì¶œë˜ì–´ì•¼ í•˜ëŠ” ì´ìœ **
>
> > ì¸ë±ì‹±ì´ ê¼¬ë¦¬ëŠ” ìƒí™©ì´ ìƒê¸¸ ê°€ëŠ¥ì„±ì´ ìƒê¸°ê³ 
> >
> > ì˜ˆìƒí•˜ì§€ ëª»í•œ ë‹¤ë¥¸ ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ê²Œ ëœë‹¤

í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì˜ ì¥ì  : ê°„ë‹¨í•˜ê³  ì„ ì–¸ì ì´ë‹¤



## note

> **ì–´ë–¤ ë°©ì‹ì´ë˜ì§€ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ëŠ”ê²Œ ì¤‘ìš”í•˜ë‹¤.**



> **ìƒíƒœê´€ë¦¬, ì§€ì—­ê³¼ ì „ì—­ ì¤‘ ìƒíƒœ ê´€ë¦¬ë¥¼ ì–´ë””ì„œí•˜ëŠ” ê²ƒì„ ì„ í˜¸í•˜ë‚˜ìš”?**
>
> > ì™ ë§Œí•´ì„œëŠ” ì¤‘ì•™ì—ì„œ, ìŠ¤í† ì–´ì—ì„œ ìƒíƒœê´€ë¦¬ í•˜ëŠ”ê±¸ ì„ í˜¸í•œë‹¤.
> >
> > ê·œì¹™ê³¼ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë”ë¼ë„ ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ í¬ë¯¸í•´ì§€ëŠ” ê²½ìš°ê°€ ë§ë‹¤
> >
> > ê·¸ë ‡ê²Œ ë˜ë©´ í›„ì— ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê¸°ê°€ ì–´ë ¤ì›Œì§„ë‹¤.
> >
> > (ì–´ë–¤ ì˜í–¥ì„ ë¼ì¹˜ê²Œ ë ì§€ ì˜ˆì¸¡í•˜ê¸° í˜ë“¬)



> **ì„±ì¥ ê°€ëŠ¥ì„±ì€ ì–´ë–»ê²Œ ë³´ë‚˜ìš”? êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–¤ ë©´ëª¨ë¥¼ ë³´ëŠ”ì§€ ê¶ê¸ˆí•©ë‹ˆë‹¤.**
>
> > ë©´ì ‘ê´€ì— ë”°ë¼ ë‹¤ë¥´ë‹¤ê³  ìƒê°í•œë‹¤.
> >
> > 1. ê¸°ìˆ  í•™ìŠµì´ ì–´ëŠì •ë„ ë˜ì–´ ìˆëŠ”ê°€
> >    - ì–´ì„¤í”„ê²Œ ì•Œê³  ìˆë‹¤ë©´ fail
> > 2. ì§„ì§€í•˜ê²Œ í•™ìŠµí•˜ê³  ìˆëŠ”ì§€ ë³´ì—¬ì¤˜ì•¼ í•œë‹¤.
> >    - ë°€ë„ë„ ì¤‘ìš”í•˜ë‹¤
> > 3. ê°œë°œì„ ì¢‹ì•„í•˜ëŠ”ì§€, ì—´ì •ì´ ìˆëŠ”ì§€ ë“±



- pub-sub íŒ¨í„´
- observable íŒ¨í„´



> **ë¦¬ì•¡íŠ¸ def ì•Œê³ ë¦¬ì¦˜**
>
> > ê¶ê¸ˆí•˜ë‹¤ë©´
> >
> > ë²„ì¶”ì–¼ ë” êµ¬í˜„ì²´ë¥¼ ì°¾ì•„ë³´ê³  ì£¼ì„ì„ ë‹¬ë©´ì„œ ê³µë¶€í•˜ëŠ”ê±° ì¶”ì²œ



> **ë°±ì—”ë“œì™€ ì˜ê²¬ ì¡°ìœ¨**
>
> > ê°ê´€ì ì¸ ì´ìœ , íƒ€ë‹¹ì„±
> >
> > 'ìœ ëª…í•œ ~ì—ì„œ ì‚¬ìš©í•˜ë˜ë°ìš”' ì´ëŸ° ë§íˆ¬ëŠ” ì§€ì–‘



> **ê¹Œë³´ëŠ” ìš”ë ¹ (ì†ŒìŠ¤ ë³´ëŠ” ìš”ë ¹)**
>
> > ì´ˆê¸° ë²„ì „ì˜ ë¡œì§ì„ ë´ë¼
> >
> > ë°©ì–´ì½”ë“œë‚˜ ëìŠ¤ê°€ ë„ˆë¬´ ê¹Šìœ¼ë©´ ë³´ê¸° í˜ë“¬



> **ìµœì í™” ê¸°ì¤€ì **
>
> > hookì€ í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ê²Œ ì•„ë‹ˆë¼ê³  ë´„
> >
> > ì ì–´ë„ ë©”ì¸ ì•„í‚¤í…ì³ë¡œ
> >
> > íŒë‹¨í•˜ê¸° í˜ë“¬.
> >
> > í”„ë¡œíŒŒì¼ëŸ¬ ì°ì–´ë³´ë©´ì„œ í™•ì¸ í•´ë³´ì„¸ìš”



### reference

https://jasonformat.com/wtf-is-jsx/